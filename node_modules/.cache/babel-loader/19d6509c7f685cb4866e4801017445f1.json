{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _toArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toArray\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _context = require(\"./context\");\n\nvar _indicators = _interopRequireDefault(require(\"./indicators\"));\n\nvar _animationButton = _interopRequireDefault(require(\"./animationButton\"));\n\nvar _utils = require(\"./utils\");\n\nrequire(\"./styles.css\");\n/* eslint-disable no-script-url,max-len */\n\n/**\n * A carouselCard allows multiple pieces of featured content to occupy an allocated amount of space.\n */\n\n\nvar CarouselCard =\n/*#__PURE__*/\nfunction (_Component) {\n  (0, _inherits2[\"default\"])(CarouselCard, _Component);\n\n  function CarouselCard(props) {\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, CarouselCard);\n    _this = (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(CarouselCard).call(this, props));\n    _this.container = _react[\"default\"].createRef();\n    _this.registerChild = _this.registerChild.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.setActiveItem = _this.setActiveItem.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleOnClick = _this.handleOnClick.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.state = {\n      childrenRegistred: [],\n      activeItem: undefined,\n      isAnimationPaused: _this.props.disableAutoScroll,\n      privateRegisterChild: _this.registerChild\n    };\n    _this.containerRef = _react[\"default\"].createRef();\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(CarouselCard, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var isAnimationPaused = this.state.isAnimationPaused;\n\n      if (!isAnimationPaused) {\n        this.startAnimation();\n      }\n    }\n  }, {\n    key: \"getContainerClassName\",\n    value: function getContainerClassName() {\n      var className = this.props.className;\n      return (0, _classnames[\"default\"])('rainbow-carousel', className);\n    }\n  }, {\n    key: \"getContainerStyle\",\n    value: function getContainerStyle() {\n      var style = this.props.style;\n      return Object.assign({}, (0, _utils.getCarouselCardContainerStyles)(this.container.current), style);\n    }\n  }, {\n    key: \"setActiveItem\",\n    value: function setActiveItem(id) {\n      this.setState({\n        activeItem: id,\n        isAnimationPaused: true\n      });\n    }\n  }, {\n    key: \"startAnimation\",\n    value: function startAnimation() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          scrollDuration = _this$props.scrollDuration,\n          disableAutoRefresh = _this$props.disableAutoRefresh;\n      setTimeout(function () {\n        var isAnimationPaused = _this2.state.isAnimationPaused;\n\n        if (!isAnimationPaused) {\n          var _this2$state = _this2.state,\n              childrenRegistred = _this2$state.childrenRegistred,\n              activeItem = _this2$state.activeItem;\n          var selectedItemIndex = (0, _utils.getItemIndex)(childrenRegistred, activeItem);\n          var isLastItem = selectedItemIndex === childrenRegistred.length - 1;\n          var nextItem = isLastItem ? 0 : selectedItemIndex + 1;\n\n          if (isLastItem && disableAutoRefresh) {\n            _this2.setState({\n              isAnimationPaused: true\n            });\n          } else {\n            _this2.startAnimation();\n\n            _this2.setState({\n              activeItem: childrenRegistred[nextItem].indicatorID\n            });\n          }\n        }\n      }, scrollDuration * 1000);\n    }\n  }, {\n    key: \"handleOnClick\",\n    value: function handleOnClick() {\n      var isAnimationPaused = this.state.isAnimationPaused;\n\n      if (isAnimationPaused) {\n        this.startAnimation();\n      }\n\n      this.setState({\n        isAnimationPaused: !isAnimationPaused\n      });\n    }\n  }, {\n    key: \"registerChild\",\n    value: function registerChild(child) {\n      var childrenRegistred = this.state.childrenRegistred;\n\n      var _getChildTabNodes = (0, _utils.getChildTabNodes)(this.containerRef.current),\n          _getChildTabNodes2 = (0, _toArray2[\"default\"])(_getChildTabNodes),\n          nodes = _getChildTabNodes2.slice(0);\n\n      var newChildren = (0, _utils.insertChildOrderly)(childrenRegistred, child, nodes);\n      this.setState({\n        childrenRegistred: newChildren,\n        activeItem: newChildren[0].indicatorID\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          children = _this$props2.children,\n          id = _this$props2.id;\n      var _this$state = this.state,\n          childrenRegistred = _this$state.childrenRegistred,\n          activeItem = _this$state.activeItem,\n          isAnimationPaused = _this$state.isAnimationPaused;\n      return _react[\"default\"].createElement(\"div\", {\n        className: this.getContainerClassName(),\n        style: this.getContainerStyle(),\n        id: id,\n        ref: this.container\n      }, _react[\"default\"].createElement(\"span\", {\n        className: \"rainbow-carousel_autoplay\"\n      }, _react[\"default\"].createElement(_animationButton[\"default\"], {\n        onClick: this.handleOnClick,\n        isAnimationPaused: isAnimationPaused\n      })), _react[\"default\"].createElement(\"div\", {\n        className: \"rainbow-carousel_images\",\n        ref: this.containerRef\n      }, _react[\"default\"].createElement(_context.Provider, {\n        value: this.state\n      }, children)), _react[\"default\"].createElement(_indicators[\"default\"], {\n        carouselChildren: childrenRegistred,\n        onSelect: this.setActiveItem,\n        selectedItem: activeItem\n      }));\n    }\n  }]);\n  return CarouselCard;\n}(_react.Component);\n\nexports[\"default\"] = CarouselCard;\nCarouselCard.propTypes = {\n  /** The auto scroll duration. The default is 5 seconds, after that the next image is displayed. */\n  scrollDuration: _propTypes[\"default\"].number,\n\n  /** Specifies whether auto scroll is disabled. The default value is false. */\n  disableAutoScroll: _propTypes[\"default\"].bool,\n\n  /** Specifies whether the carousel should stop looping from the beginning after the last item is displayed.\n   * The default value is false. */\n  disableAutoRefresh: _propTypes[\"default\"].bool,\n\n  /** A CSS class for the outer element, in addition to the component's base classes. */\n  className: _propTypes[\"default\"].string,\n\n  /** An object with custom style applied to the outer element. */\n  style: _propTypes[\"default\"].object,\n\n  /**\n   * This prop that should not be visible in the documentation.\n   * @ignore\n   */\n  children: _propTypes[\"default\"].node,\n\n  /** The id of the outer element. */\n  id: _propTypes[\"default\"].string\n};\nCarouselCard.defaultProps = {\n  scrollDuration: 5,\n  disableAutoScroll: false,\n  disableAutoRefresh: false,\n  className: undefined,\n  style: undefined,\n  children: null,\n  id: undefined\n};","map":null,"metadata":{},"sourceType":"script"}