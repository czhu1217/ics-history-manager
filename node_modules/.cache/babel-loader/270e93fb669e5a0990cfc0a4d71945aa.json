{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = StepThree;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _Table = _interopRequireDefault(require(\"../../Table\"));\n\nvar _Column = _interopRequireDefault(require(\"../../Column\"));\n\nvar _getAssignFieldsData = _interopRequireDefault(require(\"../helpers/getAssignFieldsData\"));\n\nvar _modifyCell = _interopRequireDefault(require(\"./modifyCell\"));\n\nvar _fileFieldCell = _interopRequireDefault(require(\"./fileFieldCell\"));\n\nvar _databaseFieldCell = _interopRequireDefault(require(\"./databaseFieldCell\"));\n\nvar _assignFieldModal = _interopRequireDefault(require(\"./assignFieldModal\"));\n\nrequire(\"./styles.css\");\n\nfunction StepThree(props) {\n  var attributes = props.attributes,\n      columns = props.columns,\n      onAssignField = props.onAssignField,\n      fieldsMap = props.fieldsMap,\n      data = props.data,\n      matchField = props.matchField;\n  var previewData = data.slice(0, 3);\n\n  var _useState = (0, _react.useState)([]),\n      _useState2 = (0, _slicedToArray2[\"default\"])(_useState, 2),\n      assignData = _useState2[0],\n      setAssignData = _useState2[1];\n\n  (0, _react.useEffect)(function () {\n    setAssignData((0, _getAssignFieldsData[\"default\"])({\n      fieldsMap: fieldsMap,\n      attributes: attributes,\n      matchField: matchField\n    }));\n  }, [fieldsMap, attributes, matchField]);\n\n  var _useState3 = (0, _react.useState)(false),\n      _useState4 = (0, _slicedToArray2[\"default\"])(_useState3, 2),\n      isAssignFieldModalOpen = _useState4[0],\n      setAssignFieldModalState = _useState4[1];\n\n  var _useState5 = (0, _react.useState)(''),\n      _useState6 = (0, _slicedToArray2[\"default\"])(_useState5, 2),\n      databaseFieldToAssign = _useState6[0],\n      setDatabaseFieldToAssign = _useState6[1];\n\n  var openAssignFieldModal = function openAssignFieldModal(field) {\n    setAssignFieldModalState(true);\n    setDatabaseFieldToAssign(field);\n  };\n\n  var closeAssignFieldModal = function closeAssignFieldModal() {\n    setAssignFieldModalState(false);\n  };\n\n  return _react[\"default\"].createElement(\"div\", null, _react[\"default\"].createElement(_Table[\"default\"], {\n    className: \"rainbow-import-records-flow_table\",\n    keyField: \"id\",\n    data: assignData\n  }, _react[\"default\"].createElement(_Column[\"default\"], {\n    header: \"Modify\",\n    field: \"fileField\",\n    component: function component(rowProps) {\n      return _react[\"default\"].createElement(_modifyCell[\"default\"], (0, _extends2[\"default\"])({}, rowProps, {\n        onClick: openAssignFieldModal\n      }));\n    }\n  }), _react[\"default\"].createElement(_Column[\"default\"], {\n    header: \"CSV titles\",\n    field: \"fileField\",\n    component: _fileFieldCell[\"default\"]\n  }), _react[\"default\"].createElement(_Column[\"default\"], {\n    header: \"Database fields\",\n    field: \"databaseField\",\n    component: _databaseFieldCell[\"default\"]\n  })), _react[\"default\"].createElement(_assignFieldModal[\"default\"], {\n    attributes: attributes,\n    isAssignFieldModalOpen: isAssignFieldModalOpen,\n    onRequestClose: closeAssignFieldModal,\n    columns: columns,\n    databaseFieldToAssign: databaseFieldToAssign,\n    onAssignField: onAssignField,\n    fieldsMap: fieldsMap,\n    data: previewData\n  }));\n}\n\nStepThree.propTypes = {\n  onAssignField: _propTypes[\"default\"].func,\n  fieldsMap: _propTypes[\"default\"].object,\n  data: _propTypes[\"default\"].array,\n  attributes: _propTypes[\"default\"].object\n};\nStepThree.defaultProps = {\n  onAssignField: function onAssignField() {},\n  fieldsMap: {},\n  data: [],\n  attributes: {}\n};","map":null,"metadata":{},"sourceType":"script"}