{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _constants = require(\"../../../libs/constants\");\n\nvar _utils = require(\"../utils\");\n\nvar _indicator = _interopRequireDefault(require(\"./indicator\"));\n/* eslint-disable no-script-url */\n\n\nvar RIGHT_SIDE = 1;\nvar LEFT_SIDE = -1;\n\nvar Indicators =\n/*#__PURE__*/\nfunction (_Component) {\n  (0, _inherits2[\"default\"])(Indicators, _Component);\n\n  function Indicators(props) {\n    var _this$keyHandlerMap;\n\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, Indicators);\n    _this = (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(Indicators).call(this, props));\n    _this.handleKeyPressed = _this.handleKeyPressed.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.registerIndicator = _this.registerIndicator.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.keyHandlerMap = (_this$keyHandlerMap = {}, (0, _defineProperty2[\"default\"])(_this$keyHandlerMap, _constants.RIGHT_KEY, function () {\n      return _this.selectIndicator(RIGHT_SIDE);\n    }), (0, _defineProperty2[\"default\"])(_this$keyHandlerMap, _constants.LEFT_KEY, function () {\n      return _this.selectIndicator(LEFT_SIDE);\n    }), _this$keyHandlerMap);\n    _this.state = {\n      indicatorsRefs: []\n    };\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(Indicators, [{\n    key: \"setAsSelectedIndicator\",\n    value: function setAsSelectedIndicator(tabIndex) {\n      var indicatorsRefs = this.state.indicatorsRefs;\n      indicatorsRefs[tabIndex].ref.current.click();\n      indicatorsRefs[tabIndex].ref.current.focus();\n    }\n  }, {\n    key: \"registerIndicator\",\n    value: function registerIndicator(indicator) {\n      var indicatorsRefs = this.state.indicatorsRefs;\n      var newRefs = indicatorsRefs.concat([indicator]);\n      this.setState({\n        indicatorsRefs: newRefs\n      });\n    }\n  }, {\n    key: \"selectIndicator\",\n    value: function selectIndicator(side) {\n      var selectedItem = this.props.selectedItem;\n      var indicatorsRefs = this.state.indicatorsRefs;\n      var indicatorIndex = (0, _utils.getItemIndex)(indicatorsRefs, selectedItem);\n\n      if (indicatorIndex === indicatorsRefs.length - 1 && side === RIGHT_SIDE) {\n        this.setAsSelectedIndicator(0);\n      } else if (indicatorIndex === 0 && side === LEFT_SIDE) {\n        this.setAsSelectedIndicator(indicatorsRefs.length - 1);\n      } else {\n        this.setAsSelectedIndicator(indicatorIndex + side);\n      }\n    }\n  }, {\n    key: \"handleKeyPressed\",\n    value: function handleKeyPressed(event) {\n      if (this.keyHandlerMap[event.keyCode]) {\n        return this.keyHandlerMap[event.keyCode]();\n      }\n\n      return null;\n    }\n  }, {\n    key: \"isSelected\",\n    value: function isSelected(id) {\n      var selectedItem = this.props.selectedItem;\n      return selectedItem === id;\n    }\n  }, {\n    key: \"renderIndicators\",\n    value: function renderIndicators() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          carouselChildren = _this$props.carouselChildren,\n          onSelect = _this$props.onSelect,\n          selectedItem = _this$props.selectedItem;\n      return carouselChildren.map(function (child) {\n        return _react[\"default\"].createElement(_indicator[\"default\"], (0, _extends2[\"default\"])({}, child, {\n          onSelect: onSelect,\n          selectedItem: selectedItem,\n          onCreate: _this2.registerIndicator,\n          key: child.indicatorID\n        }));\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _react[\"default\"].createElement(\"ul\", {\n        className: \"rainbow-carousel_indicators\",\n        role: \"tablist\",\n        onKeyDown: this.handleKeyPressed\n      }, this.renderIndicators());\n    }\n  }]);\n  return Indicators;\n}(_react.Component);\n\nexports[\"default\"] = Indicators;\nIndicators.propTypes = {\n  carouselChildren: _propTypes[\"default\"].array,\n  onSelect: _propTypes[\"default\"].func,\n  selectedItem: _propTypes[\"default\"].string\n};\nIndicators.defaultProps = {\n  carouselChildren: [],\n  onSelect: function onSelect() {},\n  selectedItem: undefined\n};","map":null,"metadata":{},"sourceType":"script"}